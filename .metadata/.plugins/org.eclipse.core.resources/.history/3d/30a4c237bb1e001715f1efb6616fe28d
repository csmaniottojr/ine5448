package br.ufsc.ine.leb.sistemaBancario.testes;

import static org.junit.Assert.assertEquals;

import org.junit.Before;

import br.ufsc.ine.leb.projetos.estoria.Fixture;
import br.ufsc.ine.leb.projetos.estoria.FixtureSetup;
import br.ufsc.ine.leb.sistemaBancario.Agencia;
import br.ufsc.ine.leb.sistemaBancario.Conta;
import br.ufsc.ine.leb.sistemaBancario.Dinheiro;
import br.ufsc.ine.leb.sistemaBancario.Moeda;
import br.ufsc.ine.leb.sistemaBancario.ValorMonetario;

@FixtureSetup(TesteAgencia.class)
public class TesteConta {
	
	@Fixture private Agencia bbCentro;
	
	private Conta ccMaria;
	
	@Before 
	public void setUpConta(){
		ccMaria = bbCentro.criarConta("Maria");
	}
	
	public void testeConta(){
		assertEquals("Maria", ccMaria.obterTitular());
		assertEquals("0001-5", ccMaria.obterIdentificador());
		assertEquals(new ValorMonetario(Moeda.BRL).somar(new Dinheiro(Moeda.BRL, 0, 0)), ccMaria.calcularSaldo());
		assertEquals(bbCentro, ccMaria.obterAgencia());
	}
}
